<h3>ngx-dynamic-form</h3>
<h4>Status: {{status}}</h4>
<button *ngIf="status === 'INVALID'" (click)="onShowErrors()">Errors</button>
<input id="dirty" type="radio" disabled [value]="true" [ngModel]="schemaFormEditor.dirtyChanged | async"/>
<label for="dirty">dirty</label>
<input id="invalid" type="radio" disabled [value]="'INVALID'" [ngModel]="schemaFormEditor.statusChanged | async"/>
<label for="invalid">invalid</label>
<br>
<input id="readonly" type="checkbox" [(ngModel)]="readonlyMode"/>
<label for="readonly">Readonly mode</label>
<br>
<input id="hideEmpty" type="checkbox" [(ngModel)]="hideEmpty"/>
<label for="hideEmpty">Hide empty sections</label>
<br>
<button (click)="reloadModel()">Reload model</button>
<button (click)="test()">Test</button>


<section>
  <app-schema-form
    #editor
    [schema]="schema"
    [model]="initialModel"
    [readonlyMode]="readonlyMode"
    (modelChanged)="onModelChanged($event)"
    (statusChanged)="onStatusChanged($event)"
  >
  </app-schema-form>
  <!--app-schema-form
    #view
    [schema]="schema"
    [model]="readonlyModel"
    [readonlyMode]="true"
    [hideEmpty]="hideEmpty"
  >
  </app-schema-form-->
  <div>
    <h4>Initial model</h4>
    <pre>{{initialModel | json}}</pre>
  </div>
  <div>
    <h4>Form model</h4>
    <pre>{{formModel | json}}</pre>
  </div>
  <app-view-state-monitor [viewState]="schemaFormEditor.viewState"></app-view-state-monitor>
</section>
